campaign_name: linked_in_connect_follow_up

steps:

  # ==================================================================
  # STEP 1 → Scrape & enrich the LinkedIn profile
  # ==================================================================
  - type: scrape
    name: enrich_profile
    handler: enrich_profile
    config: {}
    # → Returns full_name, title, company, location, about, icebreaker, etc.
    #   All fields are available in subsequent steps

  # ==================================================================
  # STEP 2 → Send personalized connection request
  # ==================================================================
  - type: action
    name: send_connection_request
    handler: send_connection_request
    config:
      template_file: ./assets/templates/connect_notes/leader.j2
      template_type: jinja        # jinja | static | ai_prompt

      # Available template variables (after enrich step):
      #   {{ full_name }}, {{ first_name }}, {{ title }}, {{ company }},
      #   {{ location }}, {{ icebreaker }}, {{ about }}, {{ headline }}

  # ==================================================================
  # STEP 3 → Wait until they accept (polite & undetectable)
  # ==================================================================
  - type: condition
    name: wait_for_acceptance
    handler: is_connection_accepted
    config:
      check_interval: 6h         # How often we check. 6–8h is perfect for stealth
      # No more 'timeout' field — if they never accept, profile is simply skipped
      # (no risk, no ban)

  # ==================================================================
  # STEP 4 → Send hyper-personalized follow-up message
  # ==================================================================
  - type: action
    name: send_follow_up_message
    handler: send_follow_up_message
    config:
      template_file: ./assets/templates/prompts/followup_prompt.j2
      template_type: ai_prompt    # Uses OpenAI → ultra-natural messages

      # Example prompt in followup_prompt.j2:
      # "Write a short, warm, non-salesy follow-up to {{ first_name }} at {{ company }}.
      #  We connected because {{ icebreaker }}. Keep it friendly and under 100 words."

# ======================================================================
# GLOBAL CAMPAIGN SETTINGS
# ======================================================================
settings:
  # Output file — written incrementally as soon as a profile completes
  output_csv: ./assets/output/enriched_{campaign_name}+{csv_hash}.csv

  # Optional: override account limits just for this campaign
  # limits:
  #   daily_connections: 45
  #   daily_messages: 20

  # Optional: custom human-like delays between actions
  # delays:
  #   delay_min: 10
  #   delay_max: 30
