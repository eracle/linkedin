# ----------------------------------------------------------------------
# LinkedIn Automation – Campaign configuration (YAML)
#
# This file defines a *single* campaign. A campaign is a sequence of
# steps that are executed for each profile.
# ----------------------------------------------------------------------
campaign_name: linked_in_connect_follow_up

# --------------------------------------------------------------------
# List of steps. Order matters – the engine processes the list top‑to‑bottom.
# Some steps are actions, while others are "wait" conditions that must
# be met before the next step can run.
# --------------------------------------------------------------------
steps:

  # ------------------------------------------------------------------
  # 1. READ_URLS_AND_GET_PROFILE_INFO
  # Reads LinkedIn profile URLs from input.csv and immediately fetches
  # full profile information (name, headline, company, etc.) in one go.
  # ------------------------------------------------------------------
  - action: linkedin.actions.profile.read_urls_and_enrich
    output_csv: ./assets/output/enriched_profiles_{timestamp}.csv  # Optional: saved enriched data
    input_csv: ./assets/inputs/urls.csv

  # ------------------------------------------------------------------
  # 2. CONNECT (send a connection request)
  # ------------------------------------------------------------------
  - action: linkedin.actions.connect.connect
    note_template: ./assets/templates/connect_notes/leader.j2
    template_type: jinja          # static | jinja | ai_prompt

  # ------------------------------------------------------------------
  # 3. WAIT_FOR_CONNECTION
  # ------------------------------------------------------------------
  - action: linkedin.actions.profile.is_connection_accepted
    step_type: condition
    timeout: 14d
    check_interval: 6h

  # ------------------------------------------------------------------
  # 5. SEND_MESSAGE (follow‑up after the connection is accepted)
  # This step only runs if the 'wait_for_connection' step succeeds.
  # Similar to connect note, supports template types.
  # Example: For ai_prompt, renders './templates/prompts/followup_prompt.j2' with context, sends to LLM, and uses output as message.
  # ------------------------------------------------------------------
  - action: linkedin.actions.message.send_message
    template_type: ai_prompt
    template_file: ./assets/templates/prompts/followup_prompt.j2

# --------------------------------------------------------------------
# GLOBAL SETTINGS (apply to the whole campaign run)
# --------------------------------------------------------------------
settings:
  limits:
    # LinkedIn daily caps – adjust to stay under the platform limits.
    # Values are **per account**; the scheduler respects them across runs.
    # Example: Limits to 50 connections and 20 messages per day to avoid detection.
    daily_connections: 50             # Max connection requests per day
    daily_messages: 20                # Max follow‑up messages per day

  delays:
    # Human‑like random delays between individual actions.
    # Example: Random wait between 5-15 seconds between actions to mimic human behavior.
    delay_min: 5                      # Minimum seconds to wait (int)
    delay_max: 15                     # Maximum seconds to wait (int)